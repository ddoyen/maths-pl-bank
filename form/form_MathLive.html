<meta charset="utf-8">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mathlive@0.26.0/dist/mathlive.core.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mathlive@0.26.0/dist/mathlive.css">
<style>
.mathfield {
    border: 1px solid #ddd;
    padding:5px;
    margin: 10px 0 10px 0;
    border-radius:5px;
    font-size: large;
    background-color: #fff;
}
#output {
    padding:5px;
    border: 1px solid #000;
}
</style>
<div class="mathfield" id='mf' >{{answer.1}}</div>
<div style='width:100%;height:200px;'></div>
<input type='text' id='form_1'></div>
<script src="https://cdn.jsdelivr.net/npm/mathlive@0.26.0/dist/mathlive.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathlive@0.26.0/dist/mathlive.mjs"></script>
<script> 

const mf = MathLive.makeMathField('mf', {

onContentDidChange: mathfield => {
    document.getElementById('form_1').value = mf.latex();
},
smartFence:false,
inlineShortcuts: { '*': '\\times'},
virtualKeyboardMode: 'manual',
customVirtualKeyboardLayers: {
    'elementary': {
        "rows": [
            [
                {
                    "class": "keycap",
                    "label": "7",
                },
                {
                    "class": "keycap",
                    "label": "8"
                },
                {
                    "class": "keycap",
                    "label": "9"
                },
                {
                    "class": "keycap btn",
                    "insert": "/",
                    "label": "/"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\frac{#0}{#?}",
                    "label": "<math><mfrac><mi mathsize='small'>&#11034;</mi><mi mathsize='small'>&#11034;</mi></mfrac></math>"
                },
                {
                    "class": "keycap",
                    "insert": "(",
                    "label": "("
                },
                {
                    "class": "keycap",
                    "label": ")"
                }
            ],
            [
                {
                    "class": "keycap",
                    "label": "4"
                },
                {
                    "class": "keycap",
                    "label": "5"
                },
                {
                    "class": "keycap",
                    "label": "6"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\times ",
                    "latex": "\\times "
                },
                {
                    "class": "keycap btn",
                    "insert": "\\sqrt{#0}",
                    "label": "<math><msqrt><mi mathsize='small'>&#11034;</mi></msqrt></math>"
                },
                {
                    "class": "separator w20",
                }
            ],
            [
                {
                    "class": "keycap",
                    "label": "1"
                },
                {
                    "class": "keycap",
                    "label": "2"
                },
                {
                    "class": "keycap",
                    "label": "3"
                },
                {
                    "class": "keycap btn",
                    "label": "-"
                },
                {
                    "class": "keycap btn",
                    "insert": "#@^{#?}",
                    "label": "<math><mi mathsize='small'>&#9633;</mi><sup><mi mathsize='small'>&#11034;</mi></sup></math>"
                 },
                {
                    "class": "action font-glyph bottom right w20",
                    "command": "deletePreviousChar",
                    "label": "&#x232b;"
                }
            ],
            [
                {
                    "class": "keycap",
                    "insert": "",
                    "key": "0",
                    "command": "",
                    "label": "0"
                },
                {
                    "class": "keycap",
                    "insert": "",
                    "key": "",
                    "command": "",
                    "label": "."
                },
                {
                    "class": "keycap",
                    "insert": "\\pi ",
                    "key": "",
                    "command": "",
                    "label": "<math>π</math>"
                },
                {
                    "class": "keycap btn",
                    "label": "+"
                },
                {
                    "class": "action",
                    "command": "moveToPreviousChar",
                    "label": "<svg><use xlink:href='#svg-arrow-left' /></svg>"
                },
                {
                    "class": "action",
                    "command": "moveToNextChar",
                    "label": "<svg><use xlink:href='#svg-arrow-right' /></svg>"
                },
                {
                    "class": "action",
                    "command": "moveToNextPlaceholder",
                    "label": "<svg><use xlink:href='#svg-tab' /></svg>"
                }
            ]
        ]
    },
    'sets': {
        "rows": [
            [
                {
                    "class": "keycap",
                    "label": "7",
                },
                {
                    "class": "keycap",
                    "label": "8"
                },
                {
                    "class": "keycap",
                    "label": "9"
                },
                {
                    "class": "keycap btn",
                    "insert": "/",
                    "label": "/"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\frac{#0}{#?}",
                    "label": "<math><mfrac><mi mathsize='small'>&#11034;</mi><mi mathsize='small'>&#11034;</mi></mfrac></math>"
                },
                {
                    "class": "keycap",
                    "insert": "(",
                    "label": "("
                },
                {
                    "class": "keycap",
                    "label": ")"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\R",
                    "label": "<math>&#8477;</math>"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\emptyset",
                    "label": "<math>&#8709;</math>"
                },
                {
                    "class": "separator w10",
                }
            ],
            [
                {
                    "class": "keycap",
                    "label": "4"
                },
                {
                    "class": "keycap",
                    "label": "5"
                },
                {
                    "class": "keycap",
                    "label": "6"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\times ",
                    "latex": "\\times "
                },
                {
                    "class": "keycap btn",
                    "insert": "\\sqrt{#0}",
                    "label": "<math><msqrt><mi mathsize='small'>&#11034;</mi></msqrt></math>"
                },
                {
                    "class": "keycap",
                    "insert": "\\lbrack",
                    "label": "["
                },
                {
                    "class": "keycap",
                    "insert": "\\rbrack",
                    "label": "]"
                },
                {
                    "class": "keycap",
                    "insert": "\\cup",
                    "label": "<math>&#8746;</math>"
                },
                {
                    "class": "keycap btn",
                    "insert": "\\setminus",
                    "label": "<math>&#8726;</math>"
                },
                {
                    "class": "separator w10",
                }
            ],
            [
                {
                    "class": "keycap",
                    "label": "1"
                },
                {
                    "class": "keycap",
                    "label": "2"
                },
                {
                    "class": "keycap",
                    "label": "3"
                },
                {
                    "class": "keycap btn",
                    "label": "-"
                },
                {
                    "class": "keycap btn",
                    "insert": "#@^{#?}",
                    "label": "<math><mi mathsize='small'>&#9633;</mi><sup><mi mathsize='small'>&#11034;</mi></sup></math>"
                 },
                {
                    "class": "keycap",
                    "insert": "\\{",
                    "label": "{"
                },
                {
                    "class": "keycap",
                    "insert": "\\}",
                    "label": "}"
                },
                {
                    "class": "separator w10",
                },
                {
                    "class": "action font-glyph bottom right w20",
                    "command": "deletePreviousChar",
                    "label": "&#x232b;"
                }
            ],
            [
                {
                    "class": "keycap",
                    "insert": "",
                    "key": "0",
                    "command": "",
                    "label": "0"
                },
                {
                    "class": "keycap",
                    "insert": "",
                    "key": "",
                    "command": "",
                    "label": "."
                },
                {
                    "class": "keycap",
                    "insert": "\\pi ",
                    "key": "",
                    "command": "",
                    "label": "<math>π</math>"
                },
                {
                    "class": "keycap btn",
                    "label": "+"
                },
                {
                    "class": "keycap btn",
                    "label": ","
                },
                {
                    "class": "keycap",
                    "insert": "-\\infty",
                    "label": "<math>- &#8734;</math>"
                },
                {
                    "class": "keycap",
                    "insert": "+\\infty",
                    "label": "<math>+ &#8734;</math>"
                },
                {
                    "class": "action",
                    "command": "moveToPreviousChar",
                    "label": "<svg><use xlink:href='#svg-arrow-left' /></svg>"
                },
                {
                    "class": "action",
                    "command": "moveToNextChar",
                    "label": "<svg><use xlink:href='#svg-arrow-right' /></svg>"
                },
                {
                    "class": "action",
                    "command": "moveToNextPlaceholder",
                    "label": "<svg><use xlink:href='#svg-tab' /></svg>"
                }
            ]
        ]
    }
},
customVirtualKeyboards: {
    'elementary': {
        label: 'Elémentaire',
        tooltip: 'Elémentaire',
        layer: 'elementary'
    },
    'sets': {
        label: 'Ensembles',
        tooltip: 'Ensembles',
        layer: 'sets'
    }
},
virtualKeyboards:"{{virtualKeyboards.strip}}"
});

</script>




